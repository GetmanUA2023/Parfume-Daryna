<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ваш магазин парфумерії</title>
    <style>
        /* Стили по умолчанию */
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        
        header {
            background: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        header img {
            width: 50px;
            vertical-align: middle;
        }
        
        .container {
            width: 90%;
            margin: auto;
            padding-top: 60px;
            /* Отступ для фиксированного header */
        }
        
        .albums {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .album {
            flex: 1 1 calc(50% - 20px);
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
            background: #fff;
        }
        
        .album-header {
            background: #f4a261;
            color: #fff;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
        }
        
        .sub-album {
            display: none;
            animation: slideDown 0.5s ease;
        }
        
        .sub-album.show {
            display: block;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .product-card {
            background: #fff;
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .product-card img {
            width: 150px;
            height: auto;
            margin-bottom: 10px;
        }
        
        .product-card .price {
            font-size: 16px;
            color: #333;
        }
        
        .product-card .discount-info {
            color: #e63946;
            font-weight: bold;
        }
        
        .product-card .timer {
            margin: 10px 0;
            font-size: 14px;
            color: #e63946;
        }
        
        .quantity-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .quantity-container input {
            width: 60px;
            padding: 5px;
        }
        
        .order-form,
        .review-form {
            background: #fff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        
        .order-form label,
        .review-form label {
            display: block;
            margin: 5px 0;
        }
        
        .order-form input,
        .review-form input,
        .order-form textarea,
        .review-form textarea {
            width: calc(100% - 16px);
            padding: 8px;
            margin: 5px 0;
        }
        
        .order-form button,
        .review-form button {
            background: #f4a261;
            border: none;
            color: #fff;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        .order-form button:hover,
        .review-form button:hover {
            background: #e07a5f;
        }
        
        .reviews {
            margin: 20px 0;
        }
        
        .review {
            background: #fff;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        
        .review .rating {
            font-size: 18px;
            color: #f4a261;
        }
        
        .review .text {
            margin: 10px 0;
        }
        
        .cart {
            background: #fff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        
        .cart-item img {
            width: 100px;
            height: auto;
            margin-right: 15px;
        }
        
        .cart-item .info {
            flex: 1;
        }
        
        .cart-item .remove-btn {
            background: #e63946;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        .cart-item .remove-btn:hover {
            background: #d62839;
        }
        
        .cart-summary {
            font-weight: bold;
            margin-top: 10px;
        }
        
        .timer {
            color: #e63946;
        }
    </style>
</head>

<body>
    <header>
        <img src="images/perfumeX.jpg" alt="Логотип">
        <h1>Ваш магазин парфумерії</h1>
    </header>

    <div class="container">
        <!-- Альбомы с парфюмерией -->
        <div class="albums">
            <!-- Женская продукция -->
            <div class="album" onclick="toggleProducts('women')">
                <div class="album-header">Для жінок</div>
                <div class="sub-album" id="women">
                    <div class="product-card">
                        <img src="images/girlparfume1.jpg" alt="Парфюм 1">
                        <h3>Парфюм Carolina Herrera Good Girl 80ml</h3>
                        <p class="price">1800 грн</p>
                        <p class="discount-info">1500 грн</p>
                        <p class="timer" id="timer1"></p>
                        <div class="quantity-container">
                            <input type="number" min="1" value="1">
                            <button onclick="addToCart('Carolina Herrera Good Girl', 1500, 'images/girlparfume1.jpg')">Додати в корзину</button>
                        </div>
                    </div>
                    <!-- Добавьте другие товары аналогичным образом -->
                </div>
            </div>

            <!-- Мужская продукция -->
            <div class="album" onclick="toggleProducts('men')">
                <div class="album-header">Для чоловіків</div>
                <div class="sub-album" id="men">
                    <div class="product-card">
                        <img src="images/manparfume1.jpg" alt="Парфюм 1">
                        <h3>Chanel Egoiste Platinum Pour Homme</h3>
                        <p class="price">2300 грн</p>
                        <p class="discount-info">2000 грн</p>
                        <p class="timer" id="timer4"></p>
                        <div class="quantity-container">
                            <input type="number" min="1" value="1">
                            <button onclick="addToCart('Chanel Egoiste Platinum', 2000, 'images/menparfume1.jpg')">Додати в корзину</button>
                        </div>
                    </div>
                    <!-- Добавьте другие товары аналогичным образом -->
                </div>
            </div>
        </div>

        <!-- Корзина -->
        <div class="cart" id="cart">
            <h2>Ваша корзина</h2>
            <div id="cart-items"></div>
            <div class="cart-summary" id="cart-summary"></div>
        </div>

        <!-- Форма для заказа -->
        <div class="order-form">
            <h2>Оформлення замовлення</h2>
            <label for="name">ПІБ:</label>
            <input type="text" id="name" name="name" required>
            <label for="phone">Телефон:</label>
            <input type="text" id="phone" name="phone" required>
            <label for="department">Відділення Нова пошта:</label>
            <input type="text" id="department" name="department" required>
            <label for="comment">Мiсто:</label>
            <textarea id="comment" name="comment"></textarea>
            <button onclick="submitOrder()">Замовити</button>
        </div>

        <!-- Форма для оставления отзыва -->
        <div class="review-form">
            <h2>Залиште відгук</h2>
            <label for="reviewer-name">Ваше ім'я:</label>
            <input type="text" id="reviewer-name" name="reviewer-name" required>
            <label for="review-text">Відгук:</label>
            <textarea id="review-text" name="review-text" required></textarea>
            <label for="review-rating">Оцінка (1-5):</label>
            <input type="number" id="review-rating" name="review-rating" min="1" max="5" required>
            <button onclick="submitReview()">Надіслати відгук</button>
        </div>

        <!-- Раздел отзывов -->
        <div class="reviews" id="reviews">
            <h2>Відгуки</h2>
            <!-- Отзывы будут отображаться здесь -->
        </div>
    </div>

    <script>
        let cart = [];

        // Функция добавления товара в корзину
        function addToCart(name, price, image) {
            const item = {
                name,
                price,
                image
            };
            cart.push(item);
            updateSelectedProducts();
            renderCart();
        }

        // Функция обновления списка выбранных товаров
        function updateSelectedProducts() {
            const cartSummary = document.getElementById('cart-summary');
            cartSummary.innerHTML = `Товари в корзині: ${cart.length}`;
        }

        // Функция рендеринга корзины
        function renderCart() {
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            cart.forEach((item, index) => {
                cartItems.innerHTML += `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="info">
                            <h4>${item.name}</h4>
                            <p>${item.price} грн</p>
                        </div>
                        <button class="remove-btn" onclick="removeFromCart(${index})">Видалити</button>
                    </div>
                `;
            });
        }

        // Функция удаления товара из корзины
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateSelectedProducts();
            renderCart();
        }

        // Функция отправки заказа
        function submitOrder() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const department = document.getElementById('department').value;
            const comment = document.getElementById('comment').value;

            let orderDetails = `Замовлення:\nПІБ: ${name}\nТелефон: ${phone}\nВідділення Нова пошта: ${department}\nМiсто: ${comment}\n\nТовари:\n`;

            cart.forEach(item => {
                orderDetails += `Назва: ${item.name}\nЦіна: ${item.price} грн\n\n`;

                // Отправляем фото
                fetch('https://api.telegram.org/bot<ВАШ_ТОКЕН>/sendPhoto', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            chat_id: '<ВАШ_CHAT_ID>',
                            photo: item.image, // Отправляем фото непосредственно
                            caption: `Назва: ${item.name}\nЦіна: ${item.price} грн` // Добавляем описание к фото
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Photo sent successfully:', data);
                    })
                    .catch(error => {
                        console.error('Error sending photo:', error);
                    });
            });

            // Отправляем текст заказа
            fetch('https://api.telegram.org/bot7401377630:AAEVTBujgzhXme3geZetIKeKHeHo6dpxZ2U/sendMessage', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        chat_id: '-1002391853855',
                        text: orderDetails
                    })
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Order details sent successfully:', data);
                    alert('Замовлення надіслано!');
                })
                .catch(error => {
                    console.error('Error sending order details:', error);
                    alert('Виникла помилка при відправці замовлення.');
                });

            // Очищаем корзину после отправки
            cart = [];
            updateSelectedProducts();
            renderCart();
        }

        // Функция отправки отзыва
        function submitReview() {
            const reviewerName = document.getElementById('reviewer-name').value;
            const reviewText = document.getElementById('review-text').value;
            const reviewRating = document.getElementById('review-rating').value;

            const reviewDetails = `Відгук:\nІм'я: ${reviewerName}\nОцінка: ${reviewRating}\nТекст: ${reviewText}\n`;

            fetch('https://api.telegram.org/bot7401377630:AAEVTBujgzhXme3geZetIKeKHeHo6dpxZ2U/sendMessage', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        chat_id: '-1002391853855',
                        text: reviewDetails
                    })
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Review sent successfully:', data);
                    alert('Відгук надіслано!');
                })
                .catch(error => {
                    console.error('Error sending review:', error);
                    alert('Виникла помилка при відправці відгуку.');
                });

            // Очистить форму после отправки
            document.getElementById('reviewer-name').value = '';
            document.getElementById('review-text').value = '';
            document.getElementById('review-rating').value = '';
        }

        // Функция для отображения продуктов в альбоме
        function toggleProducts(albumId) {
            const album = document.getElementById(albumId);
            album.classList.toggle('show');
        }
    </script>
</body>

</html>